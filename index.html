<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>New Webpage</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
        <link rel="stylesheet" type="text.css" href="assets/css/style.css">
    </head>
    <body>
    	<div>
    		<h1>Trivia Game</h1>
	    	<div class="html">
	    		<button class="startBtn">Start</button>
	    	</div>
		</div>

	<script>
		var trivia = {
			questions: ["name", "color"],
			answer0: ["jin","ken", "ryu", "mike"],
			answer1: ["red", "yellow", "pink", "blue"],
			answerIndex: ["1", "2"],
		};

		var time = 10;
		var html;
		var setIntervalId;
		var correct = 0;
		var incorrect = 0;
		var unanswered = 0;
		var questionNumber = 0;
		
		$(".startBtn").on("click", function(){
			displayQuestion();
			startTimer();
		});
		function startTimer(){
			setIntervalId = setInterval(timer, 1000);
		}
		function timer(){
			time--;
			$("#displayTime").html(time);
			if (time === 0){
				$(".html").html(
				"<p>Time Remaining: " + "<span>" + time + "</span>" + " Seconds</p>" + "<p>Out of Time!</p>");
				console.log("time out");
				unanswered++;
				// clearInterval(setIntervalId);
				setTimeout(displayQuestion, 1000 * 5);
				time = 15;
				questionNumber++;
			}
		};
		function displayQuestion(){
			console.log("game started");
			if (questionNumber === 0){
				$(".html").html(
					"<p>Time Remaining: " + "<span id='displayTime'></span>" + " Seconds</p>" +
					"<p>" + trivia.questions[questionNumber] + "</p>" +
					"<button class='btn' value=0>" + trivia.answer0[0] + "</button>" +
					"<button class='btn' value=1>" + trivia.answer0[1] + "</button>" +
					"<button class='btn' value=2>" + trivia.answer0[2] + "</button>" +
					"<button class='btn' value=3>" + trivia.answer0[3] + "</button>");
			}
			if (questionNumber === 1){
				$(".html").html(
					"<p>Time Remaining: " + "<span id='displayTime'></span>" + " Seconds</p>" +
					"<p>" + trivia.questions[questionNumber] + "</p>" +
					"<button class='btn' value=0>" + trivia.answer1[0] + "</button>" +
					"<button class='btn' value=1>" + trivia.answer1[1] + "</button>" +
					"<button class='btn' value=2>" + trivia.answer1[2] + "</button>" +
					"<button class='btn' value=3>" + trivia.answer1[3] + "</button>");
			}
			answeringQuestion();
		};

		function answeringQuestion(){
			$(".btn").on("click", function(){
				console.log("button pressed");
				var userAnswer = $(this).attr("value");
				// userAnswer = parseInt(userAnswer);
				if (userAnswer === trivia.answerIndex[questionNumber]){
					console.log("correct!");
					correct++;
					$(".html").html(
						"<p>Time Remaining: " + "<span>" + time + "</span>" + " Seconds</p>" +
						"<p>Correct!</p>");
					setTimeout(displayQuestion, 1000 * 5);
					time = 15;
				}
				else{
					console.log("not correct");
					incorrect++;
					$(".html").html(
						"<p>Time Remaining: " + "<span>" + time + "</span>" + " Seconds</p>" +
						"<p>Incorrect</p>");
					setTimeout(displayQuestion, 1000 * 5);
					time = 15;
				}

				questionNumber++;
			});

			if (questionNumber === trivia.questions.length){
					console.log("no more questions");
					clearInterval(setIntervalId);
					result();
				}
		}
		function result(){
			console.log("here is result");
			$(".html").html(
				"<p>All done, heres how you did!</p>" + 
				"<p>Correct Answers: " + correct + "</p>" +
				"<p>Incorrect Answers: " + incorrect + "</p>" +
				"<p>Unanswered: " + unanswered + "</p>" +
				"<button id='restartBtn'>Start Over?</button>");
			$("#restartBtn").on("click", function(){
				initilizeGame();
				displayQuestion();
				startTimer();
			});
		}

		function initilizeGame(){
			time = 10;
			correct = 0;
			incorrect = 0;
			unanswered = 0;
			questionNumber = 0;
		}
		

	</script>
<!-- time remaining: 30 Seconds
What was the first full length CGI movie?

-Buttons-
A Bug's Life
Monsters Inc.
Toy Story
The Lion King

press start button to start the game
queestion will display and timer starts.
When you press an answer, timer stops.
if answer is correct
if answer is wrong "Nope!"
if didn't answer, "Out of Time!"
and display following
if answer is worng or didn't answer,
The Correct Answer was: "   ". and an image.
if answer is correct
"Correct!". and an image.
delay 5 secs to display next question.

when you finish all questions.
timer will stop.
"All done, heres how you did!"
Correct Answers: ""
Incorrect Answers: ""
Unanswered: ""
button "Start Over?" if pressed reset the game.

 -->
    
    </body>
</html>

